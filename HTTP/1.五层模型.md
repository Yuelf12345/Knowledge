# TCP/IP模型
五层网络模型是一种对计算机网络结构进行分层抽象的理论框架，它简化了复杂网络通信协议的理解与设计。虽然标准的OSI（Open Systems Interconnection）模型定义了七层协议，但在实际应用中，特别是参照TCP/IP协议簇时，通常采用的是四层或五层模型来描述网络通信的过程。这里讨论的是基于TCP/IP的五层网络模型，也称为“TCP/IP五层模型”或“互联网五层参考模型”。
# 数据封装和解封装
在五层网络模型中，数据的封装和解封装过程是数据从发送端经过各层处理到达接收端时，在不同层次添加协议控制信息（即头部或尾部），形成协议数据单元（PDU），然后在接收端按照相反的顺序去除这些额外信息，还原成原始数据的过程。以下是每层的数据封装和解封装简要说明：


## 物理层（Physical Layer）
物理层是整个网络模型的最底层，主要关注如何通过传输介质（如双绞线、同轴电缆、光纤、无线电波等）将原始的比特流（0和1信号）从一个节点传送到另一个节点。这一层涉及硬件接口、信号速率、电气特性、连接器类型等。

- 物理层主要负责比特流的传输，不涉及复杂的封装概念，但它确实会把数据链路层的帧转换为可以在物理媒介上传输的电信号或光信号。


## 数据链路层（Data Link Layer）
数据链路层负责在相邻节点间可靠地传输数据帧，它确保在单一链路上的数据传输正确无误。该层包括了逻辑链路控制（LLC）子层和媒体访问控制（MAC）子层。以太网协议即工作在此层，提供帧同步、错误检测以及寻址等功能。

- 封装：数据链路层对网络层的IP包进行处理，添加帧头（包括源MAC地址、目的MAC地址、类型/长度字段等）和可能的帧尾（如FCS校验码），形成数据链路层协议数据单元（Data Link Layer PDU，帧Frame）。
- 解封装：接收方的数据链路层收到帧后，通过帧头信息确定帧的类型和长度，并验证帧尾的校验码，如果校验正确则剥离帧头和帧尾，提取出网络层的IP-包。
- 
## 网络层（Network Layer）
网络层处理不同网络间的通信，负责将数据包从源主机路由到目的主机。在网络层，IP（Internet Protocol）协议是最为重要的一种，它提供了逻辑地址（IP地址）分配和路由选择功能。

- 封装：网络层为传输层的段加上IP报头，生成网络层协议数据单元（Network Layer PDU，包Packet），包含源/目的IP地址以及其他网络层相关信息（如TTL、分片标志等）。
- 解封装：接收方的网络层接收到IP包后，剥离IP报头，并根据IP报头中的信息判断下一步操作（如路由转发或交付给传输层）。

## 传输层（Transport Layer）
传输层确保端到端的数据传输服务，它主要包含了两种协议：TCP（Transmission Control Protocol）和UDP（User Datagram Protocol）。TCP提供面向连接、可靠的数据传输服务，数据被分割成报文段并进行顺序编号；而UDP则是无连接的，不保证数据的可靠性，但具有较低的开销和更快的速度。

- 封装：传输层为应用层提供的数据添加TCP报头（或UDP报头），生成传输层协议数据单元（Transport Layer PDU，段Segment），包含源/目的端口号以及必要的控制信息（如序列号、确认号、校验和等）。
- 解封装：接收方的传输层收到数据段后，去除TCP或UDP报头，提取出有效载荷部分（即应用层的数据）并交付给上层应用层。

## 应用层（Application Layer）
应用层直接面向用户的应用程序，处理特定应用程序的网络需求，例如HTTP、FTP、SMTP、DNS等各种应用协议。这些协议允许应用程序之间交换数据，并实现诸如网页浏览、文件传输、电子邮件发送、域名解析等多种网络应用功能。

- 封装：应用程序产生的用户数据（如HTTP请求、FTP文件内容等）被应用层协议处理后，将该数据传递给下一层（传输层），形成应用层协议数据单元（Application Data Unit, ADU）。
- 解封装：接收方的应用层接收到传输层传来的数据，根据相应的应用层协议解析出原始的用户数据。



总结来说，五层网络模型每层都承担着不同的职责，自下而上逐层解决数据传输过程中遇到的问题，最终实现跨越不同网络环境的复杂数据交互。

在实际通信过程中，数据沿着上述路径逐层向下封装，通过网络传输到达目标主机后，再逐层向上解封装，直至还原到原始的应用层数据。这个过程确保了数据在网络中能够准确无误地从发送者传递给接收者。


## 说说网络的五层模型
参考答案
从上到下分别为:应用层、传输层、网络层、数据链路层、物理层。在发送消息时，消息从上到下进行打包，每一层会在上一层基础上加包，而接受消息时，从下到上进行解包，最终得到原始信息。
其中:
应用层主要面向互联网中的应用场景，比如网页、邮件、文件中心等等，它的代表协议有http、smtp、pop3、ftp、DNS 等等
传输层主要面向传输过程，比如 TCP 协议是为了保证可靠的传输，而UDP 协议则是一种无连接的广播，它们提供了不同的传输方式网络层主要解决如何定位目标以及如何寻找最优路径的问题，比如IP等等
数据链路层的作用是将数据在一个子网(广播域)内有效传输，MAC地址、交换机都是属于该层的
物理层是要解决二进制数据到信号之间的互转问题，集线器、双绞线、同轴电缆等都是属于盖层的设备